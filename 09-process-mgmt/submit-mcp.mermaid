flowchart TD
    A[Developer Submits MCP Tool] --> B{Submission Format Valid?}
    B -->|No| C[Return with Format Requirements]
    B -->|Yes| D[Set Status: SUBMITTED]
    
    D --> E[Auto Extract Tool Metadata]
    E --> F[Conflict Detection Check]
    F --> G{Conflicts with Featured Tools?}
    
    G -->|Yes| H[Conflict Resolution Analysis]
    H --> I{Featured Tool Superior?}
    I -->|Yes| J[Mark as Alternative/Reject]
    I -->|No| K[Flag for Manual Review]
    
    G -->|No| O[Functionality Testing]
    
    O --> P{Tests Pass?}
    P -->|No| Q[Testing Rejection with Logs]
    P -->|Yes| R[Quality Assessment]
    
    R --> S{Meets Quality Standards?}
    S -->|No| T[Quality Rejection with Feedback]
    S -->|Yes| U[Set Status: REVIEWING]
    
    U --> V[Human Review Queue]
    V --> W[Admin Manual Review]
    W --> X{Admin Approval?}
    X -->|No| Y[Manual Rejection with Reason]
    X -->|Yes| Z[Add to Tool Registry]
    
   
    Z --> BB[Set Tool Priority & Tags]
    BB --> CC[Set Status: ACTIVE]
    
    %% Health Check Monitoring
    CC --> EE[Continuous Health Monitoring]
    EE --> FF{Health Check Pass?}
    FF -->|Pass| EE
    FF -->|10 Failures| GG[Set Status: INACTIVE]
    
    %% Admin Manual Inactive
    CC --> HH[Admin Manual Control]
    HH --> II{Admin Sets Inactive?}
    II -->|Yes| JJ[Set Status: INACTIVE]
    II -->|No| HH
    
    %% Status flows
    J --> KK[Notify Developer - Alternative Status]
    K --> W
    C --> LL[Developer Resubmits]
    Q --> MM
    T --> MM
    Y --> MM
    LL --> B
    MM --> B
    
    %% Status boxes
    NN[STATUS: SUBMITTED]
    OO[STATUS: REVIEWING]    
    QQ[STATUS: ACTIVE]
    RR[STATUS: INACTIVE]
    
    style A fill:#e1f5fe
    style DD fill:#c8e6c9
    style KK fill:#fff3e0
    style Q fill:#ffebee
    style T fill:#ffebee
    style Y fill:#ffebee
    style D fill:#f3e5f5
    style U fill:#fff8e1
    style AA fill:#e8f5e8
    style CC fill:#c8e6c9
    style GG fill:#ffcdd2
    style JJ fill:#ffcdd2
